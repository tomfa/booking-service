generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "rhel-openssl-1.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model booking {
  id         String    @id @db.VarChar
  createdAt  DateTime  @default(now()) @db.Timestamp(6)
  updatedAt  DateTime  @default(now()) @db.Timestamp(6)
  customerId String?   @db.VarChar
  userId     String?   @db.VarChar
  resourceId String    @db.VarChar
  startTime  DateTime  @db.Timestamp(6)
  endTime    DateTime  @db.Timestamp(6)
  canceled   Boolean?  @default(false)
  comment    String?   @db.VarChar
  seatNumber Int?
  customer   customer? @relation(fields: [customerId], references: [id])
  resource   resource  @relation(fields: [resourceId], references: [id])
}

model customer {
  id          String     @id @db.VarChar
  createdAt   DateTime   @default(now()) @db.Timestamp(6)
  updatedAt   DateTime   @default(now()) @db.Timestamp(6)
  name        String?    @db.VarChar
  email       String     @unique @db.VarChar
  phoneNumber String?    @db.VarChar
  issuer      String?    @unique @db.VarChar
  credits     Int?       @default(0)
  enabled     Boolean    @default(true)
  booking     booking[]
  resource    resource[]
}

model resource {
  id         String    @id @db.VarChar
  createdAt  DateTime  @default(now()) @db.Timestamp(6)
  updatedAt  DateTime  @default(now()) @db.Timestamp(6)
  customerId String    @db.VarChar
  category   String?   @db.VarChar
  label      String    @db.VarChar
  schedule   Json
  seats      Int
  enabled    Boolean   @default(true)
  customer   customer  @relation(fields: [customerId], references: [id])
  booking    booking[]
}
